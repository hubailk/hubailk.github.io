<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hubail K — Robotics & Automation Engineer</title>
  <meta name="description" content="Robotics & Automation Engineer — ROS 2, NVIDIA Isaac Sim/Lab (Physical AI), Digital Twins, AMR. Make → Train → Deploy → Maintain." />
  <meta name="theme-color" content="#0b1220" />
  <meta property="og:title" content="Hubail K — Robotics Engineer" />
  <meta property="og:description" content="Robotics, ROS 2, Isaac Sim/Lab, Physical AI, Industrial Automation." />
  <meta property="og:type" content="website" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <!-- Tailwind (Play CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode:'class',
      theme:{
        extend:{
          fontFamily:{ sans:['Inter','ui-sans-serif','system-ui'], mono:['JetBrains Mono','ui-monospace','SFMono-Regular'] },
          colors:{ accent:{50:'#e8f5ff',100:'#cfe9ff',200:'#9dd3ff',300:'#6bbcff',400:'#39a6ff',500:'#0f90ff',600:'#0076e6',700:'#005cb4',800:'#004688',900:'#003a72'}},
          boxShadow:{soft:'0 10px 30px rgba(2,12,27,0.15)', glow:'0 0 0 1px #0f90ff40, 0 10px 30px #0f90ff1a'},
          backgroundImage:{
            'hero-grid':'radial-gradient(circle at 20% 10%, #0f90ff20 0, transparent 35%), radial-gradient(circle at 80% 20%, #22d3ee15 0, transparent 35%), radial-gradient(circle at 60% 80%, #22c55e15 0, transparent 35%)'
          }
        }
      }
    }
  </script>

  <!-- Animation libs (vanilla, GitHub Pages-friendly) -->
  <script src="https://unpkg.com/lenis@1.1.13/bundled/lenis.min.js"></script>
  <script src="https://unpkg.com/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <style>
    html{scroll-behavior:smooth}
    .container{max-width:1120px}
    .caret::after{content:"_";animation:blink 1s step-end infinite}
    @keyframes blink{50%{opacity:0}}
    /* Card tilt */
    .tilt{transform-style:preserve-3d;will-change:transform;transition:transform .15s ease}
    .tilt:hover{transform:translateY(-2px)}
    .tilt > .shine{position:absolute;inset:0;background:radial-gradient(180px 80px at var(--mx,50%) var(--my,50%), #ffffff22, transparent 60%);pointer-events:none;border-radius:inherit}
    /* Sticky section headings */
    section h2.sticky-title{position:sticky;top:64px;backdrop-filter:blur(6px)}
    /* Particles canvas */
    #fx{position:fixed;inset:0;z-index:-1}
  </style>
</head>
<body class="bg-slate-950 text-slate-100 selection:bg-accent-500/30">
  <canvas id="fx"></canvas>

  <!-- Header -->
  <header class="sticky top-0 z-50 border-b border-slate-800/60 backdrop-blur bg-slate-950/65">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#top" class="text-lg font-extrabold tracking-tight">HK<span class="text-accent-500">.</span></a>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#projects" class="hover:text-accent-400">Projects</a>
        <a href="#skills" class="hover:text-accent-400">Skills</a>
        <a href="#experience" class="hover:text-accent-400">Experience</a>
        <a href="#testimonials" class="hover:text-accent-400">Testimonials</a>
        <a href="#contact" class="hover:text-accent-400">Contact</a>
      </nav>
      <div class="flex items-center gap-2">
        <a id="cvLink" href="#" class="px-3 py-1.5 rounded-xl bg-accent-600 hover:bg-accent-500 text-white text-sm font-semibold shadow-soft">Download CV</a>
        <button id="themeToggle" aria-label="Toggle dark mode" class="p-2 rounded-lg border border-slate-800 hover:bg-slate-900">🌙</button>
        <button id="menuToggle" class="md:hidden p-2 rounded-lg border border-slate-800 hover:bg-slate-900" aria-label="Open menu">☰</button>
      </div>
    </div>
    <div id="mobileMenu" class="md:hidden hidden border-t border-slate-800 bg-slate-950">
      <nav class="container mx-auto px-4 py-3 grid gap-2 text-sm">
        <a class="py-2 border-b border-slate-800" href="#projects">Projects</a>
        <a class="py-2 border-b border-slate-800" href="#skills">Skills</a>
        <a class="py-2 border-b border-slate-800" href="#experience">Experience</a>
        <a class="py-2 border-b border-slate-800" href="#testimonials">Testimonials</a>
        <a class="py-2" href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section id="top" class="container mx-auto px-4 pt-14 pb-8 bg-hero-grid/10">
    <div class="grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <div class="inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full border border-slate-800/70 bg-slate-950/60">Open to: Robotics/ROS 2 · Digital Twin · AMR · R&D</div>
        <h1 class="mt-3 text-4xl md:text-5xl font-extrabold leading-tight tracking-tight">Hubail K</h1>
        <p class="mt-2 text-xl text-slate-300">Robotics & Automation Engineer</p>
        <p class="mt-4 text-slate-400 max-w-xl">Designing and deploying <span class="font-semibold text-slate-200">ROS 2</span>-based systems, <span class="font-semibold text-slate-200">NVIDIA Isaac Sim/Lab (Physical AI)</span> digital twins, and high-precision industrial automation. <span class="text-slate-200">Make → Train → Deploy → Maintain</span>.</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a id="githubLink" href="https://github.com/hubailk" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-800 hover:bg-slate-900">GitHub</a>
          <a id="linkedinLink" href="https://www.linkedin.com/in/hubailk" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-800 hover:bg-slate-900">LinkedIn</a>
          <a id="youtubeLink" href="#" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-800 hover:bg-slate-900">YouTube</a>
          <a href="#contact" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-accent-600 hover:bg-accent-500 text-white shadow-glow">Contact</a>
        </div>
      </div>
      <div>
        <!-- Enhanced Terminal card -->
        <div class="rounded-2xl border border-slate-800 bg-slate-950 shadow-soft overflow-hidden">
          <div class="flex items-center gap-2 px-4 py-2 border-b border-slate-800 bg-slate-900/60 text-slate-400 text-xs">
            <span class="w-2 h-2 rounded-full bg-red-500/70"></span>
            <span class="w-2 h-2 rounded-full bg-yellow-500/70"></span>
            <span class="w-2 h-2 rounded-full bg-green-500/70"></span>
            <span class="ml-2">/bin/bash — demo</span>
          </div>
          <div class="p-4 font-mono text-sm leading-relaxed bg-gradient-to-b from-slate-950 to-slate-900 min-h-[280px]">
            <div><span class="text-accent-400">hubail@robotics</span>:<span class="text-slate-500">~</span>$ <span id="typed" class="caret"></span></div>
            <pre id="terminalOutput" class="mt-3 whitespace-pre-wrap"></pre>
            <div class="mt-3 text-xs text-slate-500">Type <code class="text-slate-300">help</code> then press Enter. Commands: <code class="text-slate-300">help</code>, <code class="text-slate-300">skills</code>, <code class="text-slate-300">projects</code>, <code class="text-slate-300">contact</code></div>
            <input id="termInput" class="mt-2 w-full bg-slate-900/70 border border-slate-800 rounded-md px-2 py-1 text-slate-200 outline-none focus:border-accent-500" placeholder="help" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="container mx-auto px-4 py-14">
    <h2 class="sticky-title text-2xl font-bold mb-6 bg-slate-950/60">Skills</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4" id="skillsGrid"></div>
  </section>

  <!-- Featured Projects with filters -->
  <section id="projects" class="container mx-auto px-4 py-14">
    <div class="flex items-center justify-between mb-6">
      <h2 class="sticky-title text-2xl font-bold bg-slate-950/60">Featured Projects</h2>
      <div class="flex gap-2 text-xs">
        <button data-filter="all" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">All</button>
        <button data-filter="sim" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">Simulation</button>
        <button data-filter="vision" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">Vision</button>
        <button data-filter="plc" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">PLC</button>
        <button data-filter="embedded" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">Embedded</button>
      </div>
    </div>
    <div id="projectsGrid" class="grid md:grid-cols-2 gap-6"></div>
    <div id="projectsEmpty" class="hidden text-sm text-slate-400">No projects match this filter yet.</div>
    <div class="mt-4 text-sm"><a id="projectsMore" href="https://github.com/hubailk?tab=repositories" class="text-accent-400 hover:underline">All repositories →</a></div>
  </section>

  <!-- Experience -->
  <section id="experience" class="container mx-auto px-4 py-14">
    <h2 class="sticky-title text-2xl font-bold mb-6 bg-slate-950/60">Experience</h2>
    <ol id="timeline" class="relative border-s-2 border-slate-800 ml-3"></ol>
  </section>

  <!-- Testimonials -->
  <section id="testimonials" class="container mx-auto px-4 py-14">
    <h2 class="sticky-title text-2xl font-bold mb-6 bg-slate-950/60">Testimonials</h2>

    <!-- Card with document preview -->
    <div class="rounded-2xl border border-slate-800 shadow-soft bg-slate-950">
      <div class="p-6">
        <div class="relative mx-auto max-w-3xl">
          <div class="absolute -top-3 left-6 text-3xl text-accent-400">“</div>
          <img id="testimonialImage" alt="Testimonial document" loading="lazy" class="w-full rounded-xl border border-slate-800 bg-slate-900 object-cover max-h-[520px]" />
          <div class="absolute -bottom-5 left-1/2 -translate-x-1/2 text-3xl text-accent-400">”</div>
        </div>
      </div>

      <!-- Pointer bubble to avatar/name -->
      <div class="flex flex-col items-center px-6 pb-6 text-center">
        <img id="testimonialPhoto" alt="Author photo" loading="lazy" class="w-20 h-20 rounded-full border border-slate-700 object-cover shadow-soft" />
        <a id="testimonialName" href="#" target="_blank" rel="noopener" class="mt-3 font-semibold text-slate-100 hover:text-accent-400 underline-offset-4">Name</a>
        <div id="testimonialRole" class="text-sm text-slate-400">Role</div>

        <!-- Visible quote text for accessibility/SEO; matches our smoke test IDs -->
        <figure class="mt-4 max-w-2xl">
          <blockquote id="testimonialText" class="text-slate-300 italic"></blockquote>
          <figcaption id="testimonialAuthor" class="sr-only"></figcaption>
        </figure>

        <!-- Controls -->
        <div class="mt-4 flex gap-2">
          <button id="prevTest" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">Prev</button>
          <button id="nextTest" class="px-3 py-1.5 rounded-lg border border-slate-800 hover:bg-slate-900">Next</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="container mx-auto px-4 py-16">
    <div class="rounded-2xl border border-slate-800 p-8 shadow-soft bg-slate-950">
      <h2 class="text-2xl font-bold">Get in touch</h2>
      <p class="text-slate-400 mt-2">For roles, collaborations, or consulting.</p>
      <div class="mt-6 grid sm:grid-cols-3 gap-3">
        <a id="emailLink" href="mailto:hubailk7@gmail.com" class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl bg-accent-600 hover:bg-accent-500 text-white shadow-glow">Email</a>
        <a id="calendarLink" href="#" class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-slate-800 hover:bg-slate-900">Book a call</a>
        <a href="#top" class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-slate-800 hover:bg-slate-900">Back to top ↑</a>
      </div>
    </div>
    <footer class="mt-8 text-center text-xs text-slate-500">© <span id="year"></span> Hubail K · Built for GitHub Pages</footer>
  </section>

  <!-- DATA (before logic) -->
  <script>
    const DATA = {
      summary: `Experienced Robotics and Automation Engineer with 5 years of experience in robotics, automation, and embedded systems. Skilled in new product development, robotic manipulators, and system integration across industrial and medical domains. Proficient in robotics simulation with NVIDIA Isaac Sim, Isaac Lab, and Physics AI, ROS 2, and reinforcement learning.`,
      links: {
        github: 'https://github.com/hubailk',
        linkedin: 'https://www.linkedin.com/in/hubailk/',
        youtube: '#',
        cv: '#',
        calendar: '#'
      },
      skills: [
        { title: 'Programming', items: ['Python','C++','RAPID','VAL-3','Ladder Logic'] },
        { title: 'Robotics Tools', items: ['NVIDIA Isaac Sim 5','Isaac Lab','PhysicsAI','ROS 2','RViz','MoveIt 2','RobotStudio','RoboDK','Sysmac Studio','TIA Portal','Arduino IDE','Git'] },
        { title: 'Hardware & Systems', items: ['ABB YuMi','ABB GoFa','Omron TM900','Staubli TX60','Siemens PLC','Omron PLC','Pneumatics','Schunk Grippers','Festo Components','Raspberry Pi','ESP32','TurtleBot 3'] },
        { title: 'Methods', items: ['FMEA','Root Cause Analysis','HIL Validation','Agile (Azure DevOps)','Make→Train→Deploy→Maintain'] }
      ],
      projects: [
        { title:'ROBOTICS SIMULATION WITH NVIDIA ISAAC SIM, ISAAC LAB AND PHYSICSAI', tag:'sim', stack:'Isaac Sim · Isaac Lab · ROS 2', points:[
          'Digital twin of TurtleBot3 for SLAM, navigation, and RL.',
          'ROS 2 Humble integration for real-time autonomy.',
          'Physics-accurate env for robust sim-to-real.'
        ], links:{repo:'#',video:'#'} },
        { title:'GENAI ROBOTICS SYSTEM: VOICE‑TO‑ROBOT INTELLIGENT AUTOMATION', tag:'vision', stack:'ROS · MoveIt · GPT‑4o · Whisper · YOLOv5 · OPC UA', points:[
          'TX2‑60 executes pick‑place from natural‑language commands.',
          'Whisper + GPT‑4o for intent; YOLOv5 + OpenCV for vision.',
          'ROS + MoveIt planning; OPC UA PLC interface.',
          'Patterns: (1) Tool Calling; (2) LLM Code Gen + Redis cache.'
        ], links:{repo:'#',video:'#'} },
        { title:'SMARTDOSE 10 FLEX ASSEMBLY LINE', tag:'plc', stack:'Omron PLC · ABB YuMi · ABB GoFa', points:[
          'Designed robotic workcells; reduced cycle time by 25%.',
          'Integrated YuMi, GoFa, and TM900 into FPM system.',
          'RobotStudio & RoboDK for OLP.'
        ], links:{repo:'#',video:'#'} },
        { title:'FILL & FINISH AUTOMATION', tag:'plc', stack:'TX60 · Siemens PLC · PROFINET/PROFIBUS · Schunk EGL', points:[
          'Automated pharmaceutical Fill & Finish; higher quality, lower time.',
          'Integrated TX60 with pneumatics, EGL grippers, and vacuum.'
        ], links:{repo:'#',video:'#'} },
        { title:'INDVENTR‑200 Ventilator & iSAVE', tag:'embedded', stack:'C++ · ESP32 · PID', points:[
          'Firmware for pressure/flow/volume control with I/O & DAQ.',
          'PCB design & bench validation; worked with NUS & MIT.'
        ], links:{repo:'#',video:'#'} },
        { title:'EMG‑Controlled Prosthetic Arm (CapstoneProject)', tag:'embedded', stack:'Arduino · Servos · 3D Printing', points:[
          'Myoelectric control from residual‑limb EMG for natural motion.'
        ], links:{repo:'#',video:'#'} }
      ],
      experience: [
        { company:'Sinergia Media Labs', role:'Senior Robotic Engineer', location:'Bangalore, India', period:'Jan 2021 – Present', bullets:[
          'Concept development for device assembly lines; integration & testing.',
          'Cross‑functional collaboration across mech/elec/soft.',
          'Pneumatic & electrical design for uptime and safety.',
          'Robots: ABB YuMi, Omron TM900, Staubli TX60 (RobotStudio, VAL3, SRS).',
          'Embedded: Arduino/ESP32, PCB design; collab with NUS & MIT.',
          'FMEA/Root‑Cause; HIL validation benches.',
          'Mentored interns; Agile (Azure DevOps).',
          'Siemens/Omron PLCs; Festo/Schmalz/Schunk/CKD integration.'
        ]}
      ],
      testimonials: [
        {
          name:'Rethnaraj Rambabu, Ph.D.',
          role:'CEO & Founder, Aruvii Pte. Ltd.',
          photo:'assets/testimonials/rethnaraj.jpg',
          linkedin:'https://www.linkedin.com/',
          image:'assets/testimonials/rethnaraj-letter.jpg',
          text:'Hubail delivers reliable automation fast. His ROS 2 and simulation expertise shortened our deployment timeline significantly.'
        },
        {
          name:'Senior Controls Engineer',
          role:'Pharma Automation Partner',
          photo:'assets/testimonials/controls.jpg',
          linkedin:'https://www.linkedin.com/',
          image:'assets/testimonials/reference-letter.jpg',
          text:'Great cross‑functional collaborator. From PLCs to AI vision, he bridges disciplines with practical solutions.'
        }
      ]
    }
  </script>

  <!-- LOGIC -->
  <script>
    // --- Smooth scroll (guarded Lenis init with fallback) ---
    function initSmoothScroll(){
      if(window.Lenis){
        try{
          const lenis = new window.Lenis();
          function raf(time){ lenis.raf(time); requestAnimationFrame(raf); }
          requestAnimationFrame(raf);
        }catch(e){
          console.warn('Lenis initialization failed, using CSS smooth scroll.', e);
          document.documentElement.style.scrollBehavior = 'smooth';
        }
      } else {
        console.warn('Lenis not loaded, using CSS smooth scroll.');
        document.documentElement.style.scrollBehavior = 'smooth';
      }
    }
    window.addEventListener('load', initSmoothScroll);

    window.addEventListener('DOMContentLoaded', () => {
      const $ = (q,root=document)=>root.querySelector(q);
      const $$ = (q,root=document)=>[...root.querySelectorAll(q)];
      if(typeof DATA==='undefined'){ console.error('DATA missing'); return; }

      // Theme
      const prefersDark = matchMedia('(prefers-color-scheme: dark)').matches;
      const saved = localStorage.getItem('theme');
      if(saved==='dark' || (!saved && prefersDark)) document.documentElement.classList.add('dark');
      $('#themeToggle')?.addEventListener('click', ()=>{
        document.documentElement.classList.toggle('dark');
        localStorage.setItem('theme', document.documentElement.classList.contains('dark')?'dark':'light');
      });

      // Year & links
      $('#year').textContent = new Date().getFullYear();
      const L = DATA.links; const set=(id,url)=>{const el=document.getElementById(id); if(el&&url&&url!=='#') el.href=url;};
      set('githubLink',L.github); set('linkedinLink',L.linkedin); set('youtubeLink',L.youtube); set('cvLink',L.cv); set('calendarLink',L.calendar);

      // Mobile menu
      $('#menuToggle')?.addEventListener('click', ()=> $('#mobileMenu').classList.toggle('hidden'));

      // Skills
      const skillsGrid=$('#skillsGrid');
      DATA.skills.forEach(({title,items})=>{
        const card=document.createElement('div'); card.className='tilt relative rounded-2xl border border-slate-800 p-5 bg-slate-950 shadow-soft';
        card.innerHTML=`<h3 class=\"font-semibold mb-2\">${title}</h3><ul class=\"text-sm text-slate-300 space-y-1\">${items.map(i=>`<li>• ${i}</li>`).join('')}</ul><span class=\"shine\"></span>`;
        skillsGrid.appendChild(card);
      });

      // Projects + filters + tilt
      const P = DATA.projects; const grid=$('#projectsGrid'); const empty=$('#projectsEmpty');
      function initProjectAnimations(){
        if(!window.gsap) return;
        if(window.ScrollTrigger){ gsap.registerPlugin(ScrollTrigger); }
        const items = gsap.utils.toArray('#projectsGrid > *');
        items.forEach((el)=>{
          gsap.from(el, {
            y: 12,
            opacity: 0,
            duration: 0.4,
            ease: 'power1.out',
            scrollTrigger: window.ScrollTrigger ? { trigger: el, start: 'top 95%', once: true } : undefined,
            immediateRender: false
          });
        });
      }
      const render=(tag='all')=>{
        grid.innerHTML='';
        const items = P.filter(pr=> tag==='all' || pr.tag===tag);
        if(items.length===0){ empty.classList.remove('hidden'); return; } else { empty.classList.add('hidden'); }
        items.forEach(p=>{
          const card=document.createElement('article'); card.className='tilt relative rounded-2xl border border-slate-800 p-6 bg-slate-900 hover:bg-slate-800 transition shadow-soft';
          card.innerHTML=`<h3 class=\"text-lg font-semibold\">${p.title}</h3>
            <div class=\"text-xs text-accent-400 mt-1\">${p.stack}</div>
            <ul class=\"mt-3 text-sm text-slate-300 space-y-2\">${p.points.map(pt=>`<li>• ${pt}</li>`).join('')}</ul>
            <div class=\"mt-4 flex gap-3 text-sm\">${p.links.repo?`<a class=\"underline text-accent-400\" href=\"${p.links.repo}\">Repo</a>`:''}${p.links.video?`<a class=\"underline text-accent-400\" href=\"${p.links.video}\">Video</a>`:''}</div>
            <span class=\"shine\"></span>`;
          grid.appendChild(card);
        });
        attachTilt();
        initProjectAnimations();
      };
      render('all');
      $$('[data-filter]').forEach(btn=> btn.addEventListener('click', ()=> render(btn.dataset.filter)));

      // Experience timeline
      const timeline=$('#timeline');
      DATA.experience.forEach(exp=>{
        const li=document.createElement('li'); li.className='mb-8 ml-6';
        li.innerHTML=`<span class=\"absolute -left-2 mt-1 w-3 h-3 rounded-full bg-accent-500\"></span>
          <div class=\"rounded-xl border border-slate-800 p-5 bg-slate-950\">
            <div class=\"flex flex-wrap items-baseline gap-2\"><h3 class=\"font-semibold\">${exp.role}</h3><span class=\"text-slate-400\">· ${exp.company}</span></div>
            <div class=\"text-xs text-slate-400\">${exp.location} · ${exp.period}</div>
            <ul class=\"mt-3 text-sm text-slate-300 space-y-2\">${exp.bullets.map(b=>`<li>• ${b}</li>`).join('')}</ul>
          </div>`;
        timeline.appendChild(li);
      });

      // Testimonials
      let ti=0;
      const tEl=$('#testimonialText');
      const aEl=$('#testimonialAuthor');
      const imgEl=$('#testimonialImage');
      const photoEl=$('#testimonialPhoto');
      const nameEl=$('#testimonialName');
      const roleEl=$('#testimonialRole');

      const PLACEHOLDER_DOC = 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="800" height="520"><rect width="100%" height="100%" fill="%2311222f"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%238aa6c1" font-family="Inter,Arial" font-size="20">Document preview not available</text></svg>`);
      const PLACEHOLDER_AVATAR = 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><rect width="100%" height="100%" rx="80" fill="%2311222f"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%238aa6c1" font-family="Inter,Arial" font-size="16">No Photo</text></svg>`);

      const renderT=()=>{
        const t=DATA.testimonials[ti] || {};
        // Text + author (for tests/SEO)
        tEl.textContent='“'+(t.text||'')+'”';
        aEl.textContent=`${t.name||''} — ${t.role||''}`;
        // Image preview card (fallback if missing)
        imgEl.onerror = ()=>{ imgEl.src = PLACEHOLDER_DOC; };
        imgEl.src = t.image || PLACEHOLDER_DOC;
        imgEl.classList.remove('hidden');
        // Avatar + name/role/link (fallback if missing)
        photoEl.onerror = ()=>{ photoEl.src = PLACEHOLDER_AVATAR; };
        photoEl.src = t.photo || PLACEHOLDER_AVATAR;
        photoEl.classList.remove('hidden');
        nameEl.textContent=t.name || '—';
        nameEl.href=(t.linkedin && t.linkedin.startsWith('http')) ? t.linkedin : '#';
        roleEl.textContent=t.role || '';
      };
      renderT();
      $('#prevTest')?.addEventListener('click', ()=>{ti=(ti-1+DATA.testimonials.length)%DATA.testimonials.length; renderT();});
      $('#nextTest')?.addEventListener('click', ()=>{ti=(ti+1)%DATA.testimonials.length; renderT();});

      // Terminal: type + commands
      const typed=$('#typed'); const out=$('#terminalOutput'); const input=$('#termInput');
      const bootCmd='sudo apt-get install hubail';
      const bootLines=[
        'Reading package lists... Done',
        'Building dependency tree',
        'Reading state information... Done',
        'The following NEW packages will be installed:',
        '  hubail (Robotics & Automation Engineer)',
        '',
        'Setting up hubail...',
        '• ROS 2 · Isaac Sim/Lab · Physical AI',
        '• PLCs (Siemens/Omron), Pneumatics, Schunk/Festo',
        '• Python, C++, RAPID, VAL‑3',
        '• Make → Train → Deploy → Maintain',
        '',
        'hubail status: READY — email: hubailk7@gmail.com — LinkedIn: linkedin.com/in/hubailk'
      ];
      let i=0; const type=()=>{ if(i<=bootCmd.length){ typed.textContent=bootCmd.slice(0,i++); requestAnimationFrame(type);} else { typed.classList.remove('caret'); printLines(bootLines,60);} }; type();
      function printLines(lines,delay=60, idx=0){ if(idx>=lines.length) return; out.textContent += (idx?'\n':'')+lines[idx]; setTimeout(()=>printLines(lines,delay,idx+1), delay); }
      const help=`Available commands:\n  help      — show this help\n  skills    — list core skills\n  projects  — show featured project titles\n  contact   — jump to contact section`;
      input.addEventListener('keydown', (e)=>{
        if(e.key==='Enter'){
          const cmd=input.value.trim().toLowerCase();
          if(!cmd) return; out.textContent += `\n$ ${cmd}\n`;
          if(cmd==='help'){ out.textContent += help; }
          else if(cmd==='skills'){ out.textContent += DATA.skills.map(s=>`- ${s.title}: ${s.items.slice(0,5).join(', ')}…`).join('\n'); }
          else if(cmd==='projects'){ out.textContent += DATA.projects.map(p=>`- ${p.title}`).join('\n'); }
          else if(cmd==='contact'){ document.getElementById('contact').scrollIntoView({behavior:'smooth'}); }
          else { out.textContent += `Unknown command: ${cmd}. Type 'help'.`; }
          input.value='';
        }
      });

      // Card tilt/shine
      function attachTilt(){
        $$('.tilt').forEach(card=>{
          card.addEventListener('pointermove', (e)=>{
            const r=card.getBoundingClientRect();
            const mx=(e.clientX - r.left)/r.width*100; const my=(e.clientY - r.top)/r.height*100;
            card.style.setProperty('--mx', mx+'%'); card.style.setProperty('--my', my+'%');
            const rx=((e.clientY - r.top) - r.height/2)/20; const ry=-( (e.clientX - r.left) - r.width/2)/20;
            card.style.transform=`rotateX(${rx}deg) rotateY(${ry}deg)`;
          });
          card.addEventListener('pointerleave', ()=> card.style.transform='');
        });
      }

      // Particles background (simple, lightweight)
      const canvas=document.getElementById('fx'); const ctx=canvas.getContext('2d'); let W,H; const particles=[]; const N=100;
      function resize(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; }
      addEventListener('resize', resize); resize();
      for(let i=0;i<N;i++) particles.push({x:Math.random()*W,y:Math.random()*H,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3});
      function loop(){ ctx.clearRect(0,0,W,H); ctx.fillStyle='#0b1220'; ctx.fillRect(0,0,W,H);
        ctx.fillStyle='#0f90ff22';
        particles.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>W) p.vx*=-1; if(p.y<0||p.y>H) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x,p.y,1.2,0,Math.PI*2); ctx.fill(); });
        requestAnimationFrame(loop);
      } loop();

      // GSAP entrance animations for hero (non-blocking)
      if(window.gsap){
        gsap.from('#top h1',{y:10,opacity:0,duration:.6});
        gsap.from('#top p',{y:10,opacity:0,stagger:.1,duration:.6,delay:.1});
      }

      // Smoke tests (do not modify existing; add a few more)
      try{
        const results=[]; const assert=(name,cond)=>results.push({test:name,pass:!!cond});
        // Existing
        assert('DATA object defined', typeof DATA==='object');
        assert('Skills rendered', document.getElementById('skillsGrid')?.children.length===DATA.skills.length);
        assert('Projects rendered (all)', document.getElementById('projectsGrid')?.children.length>0);
        assert('Testimonials present', (document.getElementById('testimonialText')?.textContent||'').length>0);
        assert('Year set', (document.getElementById('year')?.textContent||'').trim().length===4);
        // Additional
        assert('Terminal input exists', !!document.getElementById('termInput'));
        assert('Filter buttons exist', document.querySelectorAll('[data-filter]').length>=4);
        const sb = getComputedStyle(document.documentElement).scrollBehavior;
        assert('Lenis available or CSS smooth-scroll fallback active', (typeof window.Lenis==='function') || sb==='smooth');
        console.table(results);
      }catch(e){ console.error('Smoke tests failed:', e); }
    });
  </script>
</body>
</html>
